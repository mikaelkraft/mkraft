###############################################
# mkraft / wisdomintech Environment Variables
# Duplicate this file as .env (local dev) or set in your platform (Vercel, Railway, etc.)
###############################################

###############################################
# Core Server (Node API)
###############################################
# Primary Postgres connection string (Neon / Railway / Supabase / Render)
POSTGRES_URL=postgres://user:pass@host:5432/dbname
# Enable simple SSL mode (set to 'false' for local docker Postgres)
POSTGRES_SSL=true
# Optional pool tuning
PG_POOL_MAX=5
PG_IDLE_TIMEOUT=30000

# Port the local Express API binds to
API_PORT=5000

# Base URL resolution precedence (first non-empty wins)
# SITE_BASE_URL > VERCEL_URL (auto on Vercel) > PUBLIC_BASE_URL
SITE_BASE_URL=
PUBLIC_BASE_URL=

# Log raw SQL statements (development debugging)
LOG_SQL=false

###############################################
# Authentication / Supabase
###############################################
# Server-side (can also reuse VITE_ versions; server checks both)
SUPABASE_URL=
SUPABASE_ANON_KEY=
# Optional JWKS override (normally inferred from SUPABASE_URL)
SUPABASE_JWKS_URL=

# Admin email used to grant elevated actions (server + client)
ADMIN_EMAIL=admin@example.com

###############################################
# Client (Vite) Exposed Variables
###############################################
# Toggle using remote API instead of direct Supabase client SQL paths
VITE_USE_API=true
# Where the client calls the API (relative or absolute)
VITE_API_BASE_URL=/api

# Supabase (public) credentials for client bundle
VITE_SUPABASE_URL=https://YOUR_PROJECT.supabase.co
VITE_SUPABASE_ANON_KEY=YOUR_ANON_KEY

# Admin email (exposed for UI conditionals only; not security sensitive alone)
VITE_ADMIN_EMAIL=admin@example.com

# Site presentation / sharing
VITE_SITE_URL=https://mkraft.tech
VITE_TWITTER_HANDLE=@mikael_kraft

###############################################
# Testing / Tooling
###############################################
# Optional bearer token used in certain integration tests
GLOBAL_TEST_BEARER=

###############################################
# Feature Flags (future: if using a remote or static flags file)
###############################################
# Example reserved keys (uncomment when implemented)
# FEATURE_PUBLISHER_PROGRAM=true

###############################################
# Notes
# - Only variables beginning with VITE_ are embedded in the client bundle.
# - Keep secrets (database credentials, service keys) WITHOUT the VITE_ prefix.
# - DO NOT commit a real production POSTGRES_URL or Supabase keys.
# - If deploying to Vercel, you usually set: POSTGRES_URL, SUPABASE_URL, SUPABASE_ANON_KEY, ADMIN_EMAIL, SITE_BASE_URL.
###############################################
